
<div class="blog-list" data-controller="BlogList">

  {.section categoryFilter}
    <h1 class="filtered-by">Nibbles Ã¡ la {@|safe}</h1>
  {.end}

  {.section tagFilter}
    <h1 class="filtered-by">MmmMMmm, {@|safe} ðŸ¤¤</h1>
  {.end}

  {.if authorFilter}
    <h1 class="filtered-by">Posted by {author.dishplayName}</h1>
  {.end}

  <div class="blog-list__inner">

    <div class="grid grid--padded">

      <!-- item loop -->
      {.repeated section items}

        <article id="post-{id}"
          class="
            post-list__item grid-item grid-item--half
            {@|item-classes}
            {.if starred}{.or}not-featured{.end}
          "
          data-item-id="{id}"
          data-offset="{addedOn}"
          {.if pagination.nextPage}{.or}data-last-page{.end}
        >


          <div class="post-list__item__content{.if starred} container{.end}">

            <!--POST IMAGE-->
            {.main-image?}
              <a href="{fullUrl}" class="post-image content-fill permalink">
                <img {@|image-meta} />
              </a>
            {.end}

            <div class="post-text">

              <!--POST TITLE-->
              <h2 class="post-title" data-content-field="title">
                {.passthrough?}
                  <a href="{sourceUrl}" target="_blank">{title}</a>
                {.or}
                  <a href="{fullUrl}" class="permalink">{title}</a>
                {.end}
              </h2>

              <!--DATE-->
              {.if starred}
                {@|apply date.block}
              {.end}

              <!--CATEGORIES-->
                {@|apply categories.block}

            </div>

          </div>

        </article>

      {.or}

        <!-- no items means no blog posts -->
        <p><em>No blog posts yet.</em></p>

      {.end}

    </div>

    <a href="#" class="blog-list-load">Load more</a>

  </div>

  <!-- pagination -->
  {.if pagination}
    <nav class="blog-list-pagination">

      <!-- newer page -->
      {.if pagination.prevPage}
        <a href="{pagination.prevPageUrl}">Newer</a>
      {.or}
        <a class="disabled">Newer</a>
      {.end}

      <!-- older page -->
      {.if pagination.nextPage}
        <a href="{pagination.nextPageUrl}">Older</a>
      {.or}
        <a class="disabled">Older</a>
      {.end}

    </nav>
  {.end}

</div>
